<!-- Navigation -->
<nav class="d-flex align-items-center justify-content-between mx-2 my-1">
  <div class="d-flex align-items-center w-100">
    <!-- Logo -->
    <a routerLink="/"><img class="logo logo-mobile mt-2" src="../../assets/logo-mobile.png" alt="logo" height="51"></a>
    <a routerLink="/"><img class="logo logo-desktop mt-2" src="../../assets/logo-desktop.png" alt="logo"
                           height="51"></a>
    <!-- Search bar -->
    <div class="search-bar">
      <label for="search"></label>
      <input type="text" id="search" placeholder="Search by username"
             [(ngModel)]="username" name="username" (keyup.enter)="searchUsername()">
      <mat-icon (click)="searchUsername()" aria-hidden="false" aria-label="Search icon">search</mat-icon>
    </div>
  </div>
  <!-- User -->
  <div class="nav-user">
    <span class="user-name-display"><b>Lisa Musterfrau</b></span>
    <a routerLink="/"><img id="nav-profile-mobile" src="../../assets/Lisa_Avatar.png" alt="Profile image"
                           width="51"></a>
  </div>
</nav>

<div class="content">

  <!-- Popular Searches -->
  <div *ngIf="!user">
    <h2>Last Searches</h2>
    <p>These are GitHub usernames that you searched before. Click on one of the links to redo your search:</p>
    <div class="search-options">
      <div class="mb-2">
        <mat-icon (click)="searchUsername('johannesstroebele91')" aria-hidden="false" aria-label="Search icon">
          search
        </mat-icon>
        <a (click)="searchUsername('johannesstroebele91')">johannesstroebele91</a>
      </div>
      <div class="mb-2">
        <mat-icon (click)="searchUsername('Krymonota')" aria-hidden="false" aria-label="Search icon">search</mat-icon>
        <a (click)="searchUsername('Krymonota')">Krymonota</a>
      </div>
      <div>
        <mat-icon (click)="searchUsername('moritzgvt')" aria-hidden="false" aria-label="Search icon">search</mat-icon>
        <a (click)="searchUsername('moritzgvt')">moritzgvt</a>
      </div>
    </div>
  </div>

  <!-- Results -->
  <div *ngIf="user">

    <div class="username-and-githublink">
      <h2>{{user.name}}</h2>
      <button class="button-blue link-github-portfolio" (click)="linkToWebsite(user.html_url)">Visit GitHub Profile
      </button>
    </div>

    <!-- Tabs -->
    <mat-tab-group animationDuration="0ms">
      <mat-tab label="Overall">
        <div class="userinfo-and-avatar my-3">
          <div class="user-infos">
            <div *ngIf="user.login">
              <mat-icon aria-hidden="false" aria-label="Person icon">person</mat-icon>
              <span>Username: {{user.login}}</span>
            </div>
            <div *ngIf="user.company">
              <mat-icon aria-hidden="false" aria-label="Company icon">business</mat-icon>
              <span>Company: {{user.company}}</span>
            </div>
            <div *ngIf="user.location">
              <mat-icon aria-hidden="false" aria-label="Location icon">location_on</mat-icon>
              <span>Location: {{user.location}}</span>
            </div>
            <div *ngIf="user.hireable">
              <mat-icon aria-hidden="false" aria-label="Work icon">work</mat-icon>
              <span>Hireable: {{user.hireable}}</span>
            </div>
            <div *ngIf="user.blog" (click)="linkToWebsite(user.html_url)">
              <mat-icon aria-hidden="false" aria-label="Homepage icon">web</mat-icon>
              <span>Visit website: <a>{{user.blog}}</a></span>
            </div>
            <div *ngIf="user.email" (click)="linkToEmail(user.email)">
              <mat-icon aria-hidden="false" aria-label="Email icon">email</mat-icon>
              <span>Send email: <a>{{user.email}}</a></span>
            </div>
            <div *ngIf="user.public_repos">
              <mat-icon aria-hidden="false" aria-label="Repos icon">dns</mat-icon>
              <span>Visit repos: {{user.public_repos}}</span>
            </div>
            <div *ngIf="user.public_gists">
              <mat-icon aria-hidden="false" aria-label="Gists icon">text_snippet</mat-icon>
              <span>Visit gists: {{user.public_gists}}</span>
            </div>
            <div *ngIf="user.followers">
              <mat-icon aria-hidden="false" aria-label="Followers icon">people</mat-icon>
              <span>Followers: {{user.followers}}</span>
            </div>
            <div *ngIf="user.following">
              <mat-icon aria-hidden="false" aria-label="Following icon">people</mat-icon>
              <span>Following: {{user.following}}</span>
            </div>
            <div *ngIf="user.created_at">
              <mat-icon aria-hidden="false" aria-label="Date joined icon">query_builder</mat-icon>
              <span>Joined GitHub: {{user.created_at}}</span>
            </div>
            <div *ngIf="user.updated_at">
              <mat-icon aria-hidden="false" aria-label="Date joined icon">update</mat-icon>
              <span>Updated profile: {{user.updated_at}}</span>
            </div>
          </div>
          <img height="180" (click)="linkToWebsite(user.html_url)" alt="GitHub profile picture"
               class="border-2 border-light rounded mb-0" src="{{user.avatar_url}}">
        </div>
        <p *ngIf="user.bio">{{user.bio}}</p>
      </mat-tab>
      <mat-tab label="Repos">
        <h2>Repositories</h2>
        <mat-card *ngFor="let repo of repos" class="my-2">
          <div><a href="{{repo.html_url}}">{{repo.name}}</a></div>
          <p>{{repo.description}}</p>
          <div fxFlex="50" fxLayout="row" *ngFor="let language of languagesPerRepo">
            <ng-container *ngFor="let languageItem of language | keyvalue">
              <p class="color-red">{{languageItem.key}}</p>
              <p class="color-blue">{{languageItem.value}}</p>
            </ng-container>
          </div>
        </mat-card>
      </mat-tab>
      <mat-tab label="Analysis">
        <div></div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
